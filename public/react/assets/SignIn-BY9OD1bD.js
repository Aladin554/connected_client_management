import{r as n,j as e,L as b,y as s,a as f,P as I}from"./index-Cq981t_5.js";import{S as k,a as C,A as E}from"./eye-close-DUQouozf.js";import{L as p,I as u}from"./InputField-Dsg9kjCR.js";import{C as A}from"./Checkbox-DDVaHjn3.js";import{B as P}from"./Button-DP4_mJO7.js";function T(){const[o,j]=n.useState(!1),[w,S]=n.useState(!1),[l,y]=n.useState(""),[d,v]=n.useState(""),[c,m]=n.useState(!1),N=async a=>{var x,h,g;if(a.preventDefault(),!l||!d){s.error("Email and password are required");return}try{m(!0);const t=await f.post("/api/login",{email:l,password:d}),{access_token:r,user:i}=t.data;sessionStorage.setItem("token",r),sessionStorage.setItem("user",JSON.stringify({id:i.id,role_id:i.role_id})),window.location.href="/"}catch(t){if(f.isAxiosError(t)){const r=(x=t.response)==null?void 0:x.status,i=(g=(h=t.response)==null?void 0:h.data)==null?void 0:g.message;r===401?s.error("Invalid email or password"):r===403&&i?s.error(i):r===404?s.error("User not found"):s.error("Something went wrong. Please try again!")}else s.error("Unexpected error occurred!")}finally{m(!1)}};return e.jsx("div",{className:"flex flex-col flex-1",children:e.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-5 sm:mb-8",children:[e.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Sign In"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enter your email and password to sign in!"})]}),e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(p,{children:["Email ",e.jsx("span",{className:"text-error-500",children:"*"})]}),e.jsx(u,{placeholder:"info@gmail.com",value:l,onChange:a=>y(a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(p,{children:["Password ",e.jsx("span",{className:"text-error-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{type:o?"text":"password",placeholder:"Enter your password",value:d,onChange:a=>v(a.target.value)}),e.jsx("span",{onClick:()=>j(!o),className:"absolute cursor-pointer right-4 top-1/2 -translate-y-1/2",children:o?e.jsx(k,{className:"fill-gray-500 size-5"}):e.jsx(C,{className:"fill-gray-500 size-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{checked:w,onChange:S}),e.jsx("span",{className:"text-gray-700 text-theme-sm",children:"Keep me logged in"})]}),e.jsx(b,{to:"/forgot-password",className:"text-sm text-brand-500 hover:text-brand-600",children:"Forgot password?"})]}),e.jsx(P,{type:"submit",className:"w-full",size:"sm",disabled:c,children:c?"Signing in...":"Sign in"})]})})]})})})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"React.js SignIn Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js SignIn Tables Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),e.jsx(E,{children:e.jsx(T,{})})]})}export{_ as default};
