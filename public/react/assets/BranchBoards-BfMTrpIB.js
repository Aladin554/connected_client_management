import{m as M,u as $,r as d,j as e,L as y,d as v}from"./index-BkDEBjE8.js";import{L as P}from"./Loader-DmWhfnO9.js";import{S as W}from"./search-kO-FRy60.js";import{P as c}from"./plus-BGK2cbvf.js";import{c as u}from"./createLucideIcon-3adLFeee.js";import{L as x}from"./layout-grid-CVscFb-y.js";import{U as N,S as A}from"./users-BnITe41j.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],I=u("bell",F);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E=u("circle-question-mark",T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],H=u("house",G);function K(){const{branchId:s}=M(),r=$(),[t,o]=d.useState("boards"),[S,i]=d.useState(!1),[l,h]=d.useState(""),[m,p]=d.useState([]),[b,f]=d.useState(!0),[R,j]=d.useState(null);d.useEffect(()=>{if(!s||isNaN(Number(s)))return;(async()=>{try{f(!0);const n=await v.get(`/boards/branch/${s}`);p(n.data.data||[]),j(null)}catch(n){console.error("Failed to load boards:",n),j("Failed to load boards")}finally{f(!1)}})()},[s]);const _=async()=>{if(!(!l.trim()||!s))try{const n=(await v.post("/boards",{name:l.trim(),branch_id:Number(s)})).data.data;p(L=>[...L,n]),h(""),i(!1)}catch(a){console.error("Board creation failed:",a),alert("Failed to create board")}};return b?e.jsx(P,{message:"Loading boards..."}):e.jsxs("div",{className:"h-screen bg-gray-50/70 flex flex-col text-gray-800 selection:bg-blue-100",children:[e.jsxs("header",{className:"h-14 bg-white/80 backdrop-blur-sm border-b border-gray-200/70 flex items-center px-4 gap-4 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{onClick:()=>o("home"),className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold shadow-sm cursor-pointer",children:"C"}),e.jsx(Q,{label:"Home",active:!1,onClick:()=>r("/user-dashboard")})]}),e.jsx("div",{className:"flex-1 flex justify-center px-6",children:e.jsxs("div",{className:"relative w-full max-w-2xl",children:[e.jsx(W,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Search boards...",className:"w-full pl-10 pr-4 py-2 bg-gray-100/70 border border-gray-200 rounded-lg text-[15px] font-medium placeholder:text-gray-400 focus:bg-white focus:border-blue-400 focus:ring-4 focus:ring-blue-100/60 transition-all duration-200"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-1.5 rounded-lg text-sm font-semibold shadow-sm hover:shadow transition-all duration-200",children:[e.jsx(c,{size:16}),"Create"]}),e.jsx(w,{children:e.jsx(E,{size:18})}),e.jsx(w,{children:e.jsx(I,{size:18})}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full cursor-pointer shadow-sm hover:shadow-md transition-shadow"})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("aside",{className:"w-64 bg-white/60 backdrop-blur-md border-r border-gray-200/70 px-3 py-5 hidden md:block overflow-y-auto",children:[e.jsxs("div",{className:"space-y-1 mb-8",children:[e.jsx(k,{icon:e.jsx(x,{size:18}),label:"Boards",active:t==="boards",onClick:()=>o("boards")}),e.jsx(k,{icon:e.jsx(H,{size:18}),label:"Home",active:t==="home",onClick:()=>o("home")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 mb-3 px-2 uppercase tracking-wide",children:"Workspaces"}),e.jsxs("div",{className:"bg-white/80 rounded-xl border border-gray-200/70 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-3.5 py-2.5 border-b bg-gradient-to-r from-gray-50 to-white",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white flex items-center justify-center rounded-lg text-sm font-bold shadow-sm",children:"T"}),e.jsx("span",{className:"text-sm font-semibold tracking-tight",children:"Workspace"})]}),e.jsxs("div",{className:"py-1",children:[e.jsx(C,{icon:e.jsx(x,{size:18}),label:"Boards",active:!0,onClick:()=>o("boards")}),e.jsx(C,{icon:e.jsx(N,{size:18}),label:"Members",onClick:()=>r("/workspace/members")})]})]})]})]}),e.jsxs("main",{className:"flex-1 px-6 md:px-12 py-10 overflow-y-auto bg-gradient-to-b from-gray-50/40 to-transparent",children:[t==="home"&&e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-purple-100 rounded-2xl p-10 text-center shadow-lg shadow-purple-100/30",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-700 to-indigo-700 bg-clip-text text-transparent mb-3",children:"Organize anything"}),e.jsx("p",{className:"text-gray-600 mb-8 text-base max-w-md mx-auto",children:"Put everything in one place and start moving things forward with your first beautiful board!"}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-3 rounded-xl font-semibold shadow-lg shadow-blue-200/40 hover:shadow-xl hover:shadow-blue-300/40 transition-all duration-300",children:[e.jsx(c,{size:18}),"Create your first board"]}),e.jsx("div",{className:"mt-6 text-sm text-gray-500 hover:text-gray-700 underline underline-offset-4 cursor-pointer transition-colors",children:"Got it! Dismiss"})]})}),t==="boards"&&e.jsxs("div",{className:"flex flex-col gap-10 max-w-6xl mx-auto",children:[e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-4 text-[15px] font-semibold text-gray-800",children:"â± Recently viewed"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:m.slice(0,2).map(a=>e.jsx(y,{to:`/boards/${a.id}`,children:e.jsx(B,{title:a.name,background_gradient:a.background_gradient})},a.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-bold text-gray-500 mb-4 uppercase",children:"Your Workspaces"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-600 text-white rounded flex items-center justify-center font-bold",children:"T"}),e.jsx("div",{className:"text-lg font-semibold",children:"Workspace"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{icon:e.jsx(x,{size:16}),label:"Boards",active:!0}),e.jsx(g,{icon:e.jsx(N,{size:16}),label:"Members"}),e.jsx(g,{icon:e.jsx(A,{size:16}),label:"Settings"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-32 rounded-lg bg-gray-100 animate-pulse"}),e.jsx("div",{className:"h-32 rounded-lg bg-gray-100 animate-pulse"}),e.jsx("div",{className:"h-32 rounded-lg bg-gray-100 animate-pulse"})]}):m.length===0?e.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No boards yet"}):m.map(a=>e.jsx(y,{to:`/boards/${a.id}`,children:e.jsx(B,{title:a.name,background_gradient:a.background_gradient})},a.id)),!b&&e.jsxs("div",{onClick:()=>i(!0),className:"h-32 rounded-lg border-2 border-dashed border-gray-300 hover:border-blue-400 bg-gray-50/70 hover:bg-gray-100 cursor-pointer flex flex-col items-center justify-center text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(c,{size:24,className:"mb-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Create new board"})]})]}),e.jsx("button",{className:"mt-6 px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-sm font-medium",children:"View all closed boards"})]})]})]}),t==="home"&&e.jsxs("aside",{className:"w-80 bg-white/40 backdrop-blur-md border-l border-gray-200/70 px-6 py-10 hidden lg:block overflow-y-auto",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("h3",{className:"text-base font-semibold mb-4 text-gray-800 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ•’"})," Recently viewed"]}),e.jsxs("div",{onClick:()=>r("/boards/1"),className:`group relative rounded-xl overflow-hidden bg-gradient-to-br from-purple-500 via-fuchsia-500 to-pink-500\r
                p-4 cursor-pointer shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]`,children:[e.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/5 transition-colors"}),e.jsx("div",{className:"relative font-semibold text-white text-base",children:"My First Project Board"}),e.jsx("div",{className:"relative text-xs text-white/80 mt-1",children:"Workspace â€¢ Updated 2h ago"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4 text-gray-800",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(z,{icon:e.jsx(c,{size:18}),label:"Create new board",onClick:()=>i(!0)}),e.jsx(z,{icon:e.jsx(x,{size:18}),label:"Browse templates",onClick:()=>r("/templates")})]})]})]})]}),S&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create board"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-800 text-2xl",children:"Ã—"})]}),e.jsx("div",{className:"h-40 rounded-xl mb-6 bg-cover bg-center",style:{background:l.trim()?"ur[](https://images.unsplash.com/photo-1500530855697-b586d89ba3ee)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Board title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{autoFocus:!0,value:l,onChange:a=>h(a.target.value),placeholder:"Your new board name...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),!l.trim()&&l!==""&&e.jsx("p",{className:"text-xs text-red-600 mt-1.5",children:"Board title is required"}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"flex-1 py-3 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium",children:"Cancel"}),e.jsx("button",{onClick:_,disabled:!l.trim(),className:`flex-1 py-3 rounded-lg font-semibold ${l.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,children:"Create"})]})]})})})]})}function Q({label:s,active:r=!1,onClick:t}){return e.jsx("div",{onClick:t,className:`px-3 py-1.5 rounded-lg text-[15px] font-semibold cursor-pointer transition-colors ${r?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:s})}function w({children:s}){return e.jsx("button",{className:"w-9 h-9 rounded-full hover:bg-gray-100 active:bg-gray-200 flex items-center justify-center transition-colors",children:s})}function k({icon:s,label:r,active:t=!1,onClick:o}){return e.jsxs("div",{onClick:o,className:`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer text-[15px] font-semibold ${t?"bg-blue-50 text-blue-700":"hover:bg-gray-100/80 text-gray-700"}`,children:[s,r]})}function C({icon:s,label:r,active:t=!1,onClick:o}){return e.jsxs("div",{onClick:o,className:`flex items-center gap-3 px-4 py-2 text-[15px] font-semibold cursor-pointer ${t?"bg-blue-50 text-blue-700":"hover:bg-gray-100 text-gray-700"}`,children:[s,r]})}function g({icon:s,label:r,active:t}){return e.jsxs("button",{className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium ${t?"bg-gray-200 text-gray-900":"bg-gray-100 hover:bg-gray-200"}`,children:[s,r]})}function B({title:s,background_gradient:r}){return e.jsxs("div",{className:"group h-36 rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all duration-200",children:[e.jsx("div",{className:"h-24 w-full",style:{background:r||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),e.jsx("div",{className:"p-3 text-sm font-medium text-gray-800 group-hover:text-blue-700 transition-colors truncate",children:s})]})}function z({icon:s,label:r,onClick:t}){return e.jsxs("div",{onClick:t,className:"flex items-center gap-3 px-4 py-2.5 rounded-lg hover:bg-gray-100/80 text-[15px] font-semibold text-gray-700 cursor-pointer",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-gray-600",children:s}),r]})}export{K as default};
